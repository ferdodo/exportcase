name: 🔍 Pull Request Check

on:
  pull_request:
    branches: master

permissions:
  id-token: write
  contents: write

jobs:
  package:
    name: 📦 Package
    uses: ./.github/workflows/package.yml
    with:
      ref_name: ${{ github.head_ref }}

  test:
    name: 🐑 Test
    uses: ./.github/workflows/test.yml
    needs: package
    with:
      ref_name: ${{ github.head_ref }}